# IP 协议

IP(IPv4, IPv6)相当于OSI参考模型中的第3层 -- 网络层。

网络层的主要作用是实现终端节点之间的通信，这种通信也叫点对点(end-to-end)通信。

数据链路层提供直连两个设备之间的通信功能，作为网络层的IP则负责在没有直连的两个网络之间进行通信传输。

## IP

IP分为3大模块，IP寻址，路由以及IP分包和组包。

### IP地址属于网络层地址

在计算机通信中，为了识别通信对端，MAC地址用来识别同一个链路中不同计算机的一种识别码。

网络层的IP地址用于在连接到网络中的所有主机中识别出进行通信的目标地址。

网络层对数据链路层的部分特性进行了抽象封装。

### 路由控制

路由控制(Routing)是指定将分组数据发送到最终目标地址的功能。

一个数据包能否成功达到目标地址，全靠路由控制。如果路由控制出现异常，分组数据很有可能丢失。

Hop(跳)，指网络中的一个区间。IP包正是在网络中一个跳间被转发。IP路由也叫多跳路由。

所有主机路由控制表(Routing Table)。该表记录IP数据在下一步应该发给哪个路由器。

### 数据链路的抽象化

IP是实现多个数据链路之间通信的协议，数据链路根据种类的不同各有特点。

不同数据链路有个最大的区别，就是它们各自的最大传输单位不同(MTU)。

### IP属于面向无连接

IP属于面向无连接，不需要建立与对端目标地址之间的连接。

IP采用无连接的原因，一个是为了简化，二是为了提速。如果一种协议规定了所有的功能和作用，那么该协议的具体实施和编程就会变得复杂。
如果按照网络分层，定义每层的协议和作用，更有利于实现该协议。

## IP地址

## 路由控制

## IP分割处理与再构成处理

## IPv6

## IPv4首部

## IPv6首部

